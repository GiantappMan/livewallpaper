(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{352:function(e,t,l){},362:function(e,t,l){"use strict";l(352)},370:function(e,t,l){"use strict";l.r(t);l(10);var o={data:function(){return{file:null,progress:0,uploadedPath:this.cover,isloading:!1}},watch:{file:function(e,t){if(e&&t){for(var l=["lastModified","name","size","type "],o=0,n=0,c=l;n<c.length;n++){var r=c[n];if(e[r]!=t[r])break;o++}if(o==l.length)return}e&&this.upload(e)},cover:function(e,t){this.uploadedPath=e}},props:["url","uploadDir","cover"],methods:{upload:function(e){var t=this;this.isloading=!0,this.progress=0,new Promise((function(l,o){var n={onUploadProgress:t._uploadProgressCallback,resolve:l,reject:o};t.tokenSource=t.$local.getApiInstance().uploadFile(t.$axios,e,t.uploadDir,n)})).then((function(e){t.uploadedPath=e.data,t.$emit("uploaded",e.data)})).catch((function(e){return t.$local.handleClientApiException(t,e)})).finally((function(){t.tokenSource=null,t.isloading=!1}))}}},n=(l(362),l(25)),component=Object(n.a)(o,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"uploader"},[l("div",{staticClass:"uploader-show"},[e.uploadedPath?l("img",{staticClass:"cover-preview-show",attrs:{src:e.$local.getApiInstance().serverHost+"assets/image/?localpath="+e.uploadedPath,alt:"cover-preview-show"}}):e._e(),e._v(" "),l("div",{staticClass:"tip"},[l("span",{staticClass:"tip-upload"},[l("b-field",{staticClass:"file is-primary"},[l("b-upload",{staticClass:"file-label",attrs:{accept:"image/jpeg, image/jpg, image/png"},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}},[l("span",{staticClass:"file-cta"},[l("span",{staticClass:"file-label"},[e._v(e._s(e.$t("common.uploadCover")))])])])],1)],1)])]),e._v(" "),l("b-loading",{attrs:{"is-full-page":!1},model:{value:e.isloading,callback:function(t){e.isloading=t},expression:"isloading"}})],1)}),[],!1,null,"3481ca37",null);t.default=component.exports}}]);